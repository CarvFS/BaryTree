#!/bin/bash



THETA=0.8
ORDER=7
CLUSTERSIZE=100
BATCHSIZE=100
KERNEL=0
KAPPA=0.0


for N in 1000000 
do
	for NX in 1 
	do
		for NY in 1
		do
			for NZ in 1
			do
				NP=$(($NX * $NY * $NZ))
				echo $NP
				SOURCES=/scratch/krasny_root/krasny/njvaughn/randomPoints/S${N}_${NX}x_${NY}y_${NZ}z.bin
				TARGETS=/scratch/krasny_root/krasny/njvaughn/randomPoints/T${N}_${NX}x_${NY}y_${NZ}z.bin
				OFFSETS=/scratch/krasny_root/krasny/njvaughn/randomPoints/offsets${N}_${NX}x_${NY}y_${NZ}z.bin
				DIRECT=/scratch/krasny_root/krasny/njvaughn/randomPoints/direct_gpu_${N}.bin
				OUTPUT=/scratch/krasny_root/krasny/njvaughn/randomPoints/tree_gpu_${N}.csv
				#mpirun -n ${NP} direct-distributed-cpu $SOURCES $TARGETS $DIRECT $OUTPUT $N $N $KAPPA $KERNEL 
				mpirun -n ${NP} tree-distributed-cpu $SOURCES $TARGETS $OFFSETS $OFFSETS $DIRECT $OUTPUT $N $N $THETA $ORDER $CLUSTERSIZE $BATCHSIZE $KERNEL $KAPPA 
			done
		done   
	done  
done    
